---
action: 'shop:search'
template: json
protocol: all
published: true
name: 'Search JSON'
url: '/search-json/:page?'
---
{% set json = "" %}
{% for product in products %}
    {% set json = json ~ '{"id": "'~ product.id ~'", "name": "'~ product.name ~'"}' %}
    {% if not loop.last %}
        {% set json = json ~ ',' %}
    {% endif %}
{% endfor %}

[{{json|trim|raw}}]